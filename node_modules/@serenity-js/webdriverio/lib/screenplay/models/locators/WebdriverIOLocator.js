"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WebdriverIOLocator = void 0;
const web_1 = require("@serenity-js/web");
const WebdriverIOPageElement_1 = require("../WebdriverIOPageElement");
class WebdriverIOLocator extends web_1.Locator {
    static createRootLocator(browser, selector, webdriverioSelector) {
        return new WebdriverIOLocator(() => browser, selector, (root) => root.$(webdriverioSelector), (root) => root.$$(webdriverioSelector));
    }
    of(parent) {
        return new WebdriverIOLocator(() => parent.nativeElement(), this.selector, (parentRoot) => this.locateElement(parentRoot), (parentRoot) => this.locateAllElements(parentRoot));
    }
    element() {
        return new WebdriverIOPageElement_1.WebdriverIOPageElement(this);
    }
    async allElements() {
        const elements = await this.locateAllElements(await this.parentRoot());
        return elements.map(childElement => new WebdriverIOPageElement_1.WebdriverIOPageElement(new WebdriverIOLocator(() => this.parentRoot(), this.selector, () => childElement, () => [childElement])));
    }
}
exports.WebdriverIOLocator = WebdriverIOLocator;
//# sourceMappingURL=WebdriverIOLocator.js.map